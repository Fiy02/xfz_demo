function Banner(){this.bannerWidth=798,this.bannerGroup=$("#banner-group"),this.index=1,this.leftArrow=$(".left-arrow"),this.rightArrow=$(".right-arrow"),this.bannerUl=$("#banner-ul"),this.liList=this.bannerUl.children("li"),this.bannerCount=this.liList.length,this.pageControl=$(".page-control")}function Index(){var n=this;n.page=2,n.category_id=0,n.loadBtn=$("#load-more-btn")}Banner.prototype.initBanner=function(){var n=this,t=n.liList.eq(0).clone(),e=n.liList.eq(n.bannerCount-1).clone();n.bannerUl.append(t),n.bannerUl.prepend(e),n.bannerUl.css({width:n.bannerWidth*(n.bannerCount+2),left:-n.bannerWidth})},Banner.prototype.initPageControl=function(){var n=this;n.pageControl.css({width:16+16*(n.bannerCount-1)+12*n.bannerCount});for(var t=0;t<n.bannerCount;t++){var e=$("<li></li>");n.pageControl.append(e),0===t&&e.addClass("active")}},Banner.prototype.toggleArrow=function(n){var t=this;n?(t.leftArrow.show(),t.rightArrow.show()):(t.leftArrow.hide(),t.rightArrow.hide())},Banner.prototype.animate=function(){var n=this,t=n.index;n.bannerUl.stop().animate({left:-n.bannerWidth*n.index},500),t=0===t?n.bannerCount-1:t===n.bannerCount+1?0:n.index-1,n.pageControl.children("li").eq(t).addClass("active").siblings().removeClass("active")},Banner.prototype.loop=function(){var n=this;this.timer=setInterval(function(){n.index>=n.bannerCount+1?(n.bannerUl.css({left:-n.bannerWidth}),n.index=2):n.index++,n.animate()},2e3)},Banner.prototype.listenBannerHover=function(){var n=this;this.bannerGroup.hover(function(){clearInterval(n.timer),n.toggleArrow(!0)},function(){n.loop(),n.toggleArrow(!1)})},Banner.prototype.listenArrowClick=function(){var n=this;n.leftArrow.click(function(){0===n.index?(n.bannerUl.css({left:-n.bannerCount*n.bannerWidth}),n.index=n.bannerCount-1):n.index--,n.animate()}),n.rightArrow.click(function(){n.index===n.bannerCount+1?(n.bannerUl.css({left:-n.bannerWidth}),n.index=2):n.index++,n.animate()})},Banner.prototype.listenPageControl=function(){var e=this;e.pageControl.children("li").each(function(n,t){$(t).click(function(){e.index=n+1,e.animate()})})},Banner.prototype.run=function(){this.initBanner(),this.initPageControl(),this.loop(),this.listenBannerHover(),this.listenArrowClick(),this.listenPageControl()},Index.prototype.ListenLoadMoreEvent=function(){var i=this,r=$("#load-more-btn");r.click(function(){xfzajax.get({url:"/news/list/",data:{p:i.page,category_id:i.category_id},success:function(n){if(200===n.code){var t=n.data;if(0<t.length){var e=template("news-item",{newses:t});$(".list_inner_group").append(e),i.page+=1}else r.hide()}}})})},Index.prototype.ListenCategorySwitchEvent=function(){var o=this;$(".list_tab").children().click(function(){var r=$(this),a=r.attr("data-category");page=1,xfzajax.get({url:"/news/list/",data:{category_id:a,p:page},success:function(n){if(200===n.code){var t=n.data,e=template("news-item",{newses:t}),i=$(".list_inner_group");i.empty(),i.append(e),o.page=2,o.category_id=a,r.addClass("active").siblings().removeClass("active"),o.loadBtn.show()}}})})},Index.prototype.run=function(){this.ListenLoadMoreEvent(),this.ListenCategorySwitchEvent()},$(function(){(new Banner).run(),(new Index).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZyb250L2luZGV4LmpzIl0sIm5hbWVzIjpbIkJhbm5lciIsInRoaXMiLCJiYW5uZXJXaWR0aCIsImJhbm5lckdyb3VwIiwiJCIsImluZGV4IiwibGVmdEFycm93IiwicmlnaHRBcnJvdyIsImJhbm5lclVsIiwibGlMaXN0IiwiY2hpbGRyZW4iLCJiYW5uZXJDb3VudCIsImxlbmd0aCIsInBhZ2VDb250cm9sIiwiSW5kZXgiLCJzZWxmIiwicGFnZSIsImNhdGVnb3J5X2lkIiwibG9hZEJ0biIsInByb3RvdHlwZSIsImluaXRCYW5uZXIiLCJmaXJzdEJhbm5lciIsImVxIiwiY2xvbmUiLCJsYXN0QmFubmVyIiwiYXBwZW5kIiwicHJlcGVuZCIsImNzcyIsIndpZHRoIiwibGVmdCIsImluaXRQYWdlQ29udHJvbCIsImkiLCJjaXJjbGUiLCJhZGRDbGFzcyIsInRvZ2dsZUFycm93IiwiaXNzaG93Iiwic2hvdyIsImhpZGUiLCJhbmltYXRlIiwic3RvcCIsInNpYmxpbmdzIiwicmVtb3ZlQ2xhc3MiLCJsb29wIiwidGltZXIiLCJzZXRJbnRlcnZhbCIsImxpc3RlbkJhbm5lckhvdmVyIiwiaG92ZXIiLCJjbGVhckludGVydmFsIiwibGlzdGVuQXJyb3dDbGljayIsImNsaWNrIiwibGlzdGVuUGFnZUNvbnRyb2wiLCJlYWNoIiwib2JqIiwicnVuIiwiTGlzdGVuTG9hZE1vcmVFdmVudCIsInhmemFqYXgiLCJnZXQiLCJ1cmwiLCJkYXRhIiwicCIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJuZXdzZXMiLCJ0cGwiLCJ0ZW1wbGF0ZSIsIkxpc3RlbkNhdGVnb3J5U3dpdGNoRXZlbnQiLCJsaSIsImF0dHIiLCJuZXdzTGlzdEdyb3VwIiwiZW1wdHkiXSwibWFwcGluZ3MiOiJBQW1CQSxTQUFTQSxTQUNMQyxLQUFLQyxZQUFjLElBQ25CRCxLQUFLRSxZQUFjQyxFQUFFLGlCQUNyQkgsS0FBS0ksTUFBUSxFQUNiSixLQUFLSyxVQUFZRixFQUFFLGVBQ25CSCxLQUFLTSxXQUFh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bkJBLEVBQWEsS0FBVyxDQUN4QixJQUFJQyxFQUFTRCxFQUFhLEtBQ3RCRSxFQUFNQyxTQUFTLFlBQWEsQ0FBQ0YsT0FBVUEsSUFDdkNNLEVBQWdCaEUsRUFBRSxxQkFFdEJnRSxFQUFjQyxRQUNkRCxFQUFjM0MsT0FBT3NDLEdBQ3JCaEQsRUFBS0MsS0FBTyxFQUNaRCxFQUFLRSxZQUFjQSxFQUNuQmlELEVBQUdqQyxTQUFTLFVBQVVPLFdBQVdDLFlBQVksVUFDN0MxQixFQUFLRyxRQUFRa0IsY0FRakN0QixNQUFNSyxVQUFVa0MsSUFBTSxXQUNQcEQsS0FDTnFELHNCQURNckQsS0FFTmdFLDZCQUlUN0QsRUFBRSxZQUNlLElBQUlKLFFBQ1ZxRCxPQUNLLElBQUl2QyxPQUNWdUMiLCJmaWxlIjoiZnJvbnQvaW5kZXgubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy/pnaLlkJHlr7nosaFcclxuLy8x44CB5re75Yqg5bGe5oCn77yaXHJcbi8v6YCa6L+HdGhpc+WFs+mUruWtl+e7keWumuWxnuaAp++8jOW5tuaMh+WumuWAvO+8m1xyXG4vL0Jhbm5lcuebuOW9k+S6juexu++8myBiYW5uZXIucGVyc29uID0g57G7LuWxnuaAp1xyXG4vLyBmdW5jdGlvbiBCYW5uZXIoKSB7XHJcbi8v6L+Z6YeM55qE5Luj56CB55u45b2T5LqOcHl0aG9u55qE4oCcX19pbml0X1/igJ3mlrnms5XnmoTku6PnoIFcclxuLy8gICAgIGNvbnNvbGUubG9nKCfmnoTpgKDlh73mlbAnKTtcclxuLy8gICAgIHRoaXMucGVyc29uID0gJ2phY2snO1xyXG4vLyB9XHJcbi8vIHZhciBiYW5uZXIgPSBuZXcgQmFubmVyKCk7XHJcbi8vIGNvbnNvbGUubG9nKGJhbm5lci5wZXJzb24pO1xyXG4vLzLjgIHmt7vliqDmlrnms5XvvJpcclxuLy/lnKhCYW5uZXIucHJvdG90eXBl5LiK57uR5a6a5pa55rOVO1xyXG4vL+WOn+Wei+mTvu+8miAgYmFubmVyLmdyZWV0ID0g57G7LuaWueazlVxyXG4vLyBCYW5uZXIucHJvdG90eXBlLmdyZWV0ID0gZnVuY3Rpb24gKHdvcmQpIHtcclxuLy8gICAgIGNvbnNvbGUubG9nKFwiaGVsbG8gXCIsd29yZCk7XHJcbi8vIH07XHJcbi8vIGJhbm5lci5ncmVldCgnamFjaycpO1xyXG4vLyDova7mkq3lm77vvJtcclxuZnVuY3Rpb24gQmFubmVyKCkge1xyXG4gICAgdGhpcy5iYW5uZXJXaWR0aCA9IDc5ODtcclxuICAgIHRoaXMuYmFubmVyR3JvdXAgPSAkKCcjYmFubmVyLWdyb3VwJyk7XHJcbiAgICB0aGlzLmluZGV4ID0gMTtcclxuICAgIHRoaXMubGVmdEFycm93ID0gJCgnLmxlZnQtYXJyb3cnKTtcclxuICAgIHRoaXMucmlnaHRBcnJvdyA9ICQoJy5yaWdodC1hcnJvdycpO1xyXG4gICAgdGhpcy5iYW5uZXJVbCA9ICQoJyNiYW5uZXItdWwnKTtcclxuICAgIHRoaXMubGlMaXN0ID0gdGhpcy5iYW5uZXJVbC5jaGlsZHJlbihcImxpXCIpO1xyXG4gICAgdGhpcy5iYW5uZXJDb3VudCA9IHRoaXMubGlMaXN0Lmxlbmd0aDtcclxuICAgIHRoaXMucGFnZUNvbnRyb2wgPSAkKCcucGFnZS1jb250cm9sJyk7XHJcbn1cclxuXHJcbi8vIOWIneWni+WMlui9ruaSreWbvueahOWbvueJh+WuveW6puWPiuW8gOWni+S9jee9ru+8jOagueaNrmJhbm5lckNvdW506Ieq5Yqo6I635Y+W5YW25a695bqm77ybXHJcbkJhbm5lci5wcm90b3R5cGUuaW5pdEJhbm5lciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBmaXJzdEJhbm5lciA9IHNlbGYubGlMaXN0LmVxKDApLmNsb25lKCk7XHJcbiAgICB2YXIgbGFzdEJhbm5lciA9IHNlbGYubGlMaXN0LmVxKHNlbGYuYmFubmVyQ291bnQgLSAxKS5jbG9uZSgpO1xyXG4gICAgc2VsZi5iYW5uZXJVbC5hcHBlbmQoZmlyc3RCYW5uZXIpO1xyXG4gICAgc2VsZi5iYW5uZXJVbC5wcmVwZW5kKGxhc3RCYW5uZXIpO1xyXG4gICAgc2VsZi5iYW5uZXJVbC5jc3Moeyd3aWR0aCc6IHNlbGYuYmFubmVyV2lkdGggKiAoc2VsZi5iYW5uZXJDb3VudCArIDIpLCAnbGVmdCc6IC1zZWxmLmJhbm5lcldpZHRofSlcclxufTtcclxuXHJcbi8vIOagueaNruWbvueJh+aVsOmHj+iHquWKqOeUn+aIkOWwj+WchueCueaVsO+8m1xyXG5CYW5uZXIucHJvdG90eXBlLmluaXRQYWdlQ29udHJvbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYucGFnZUNvbnRyb2wuY3NzKHsnd2lkdGgnOiAyICogOCArIDE2ICogKHNlbGYuYmFubmVyQ291bnQgLSAxKSArIDEyICogc2VsZi5iYW5uZXJDb3VudH0pO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxmLmJhbm5lckNvdW50OyBpKyspIHtcclxuICAgICAgICB2YXIgY2lyY2xlID0gJChcIjxsaT48L2xpPlwiKTsgICAgLy/liJvlu7psaeagh+etvu+8m1xyXG4gICAgICAgIHNlbGYucGFnZUNvbnRyb2wuYXBwZW5kKGNpcmNsZSk7XHJcbiAgICAgICAgaWYgKGkgPT09IDApIHtcclxuICAgICAgICAgICAgY2lyY2xlLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcbi8v6K6+572u5Zu+5qCH55qE5pi+56S65LiO6ZqQ6JeP77yM57uZYmFubmVyR3JvdXDlsZ7mgKfosIPnlKjvvJtcclxuQmFubmVyLnByb3RvdHlwZS50b2dnbGVBcnJvdyA9IGZ1bmN0aW9uIChpc3Nob3cpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIGlmIChpc3Nob3cpIHtcclxuICAgICAgICBzZWxmLmxlZnRBcnJvdy5zaG93KCk7XHJcbiAgICAgICAgc2VsZi5yaWdodEFycm93LnNob3coKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2VsZi5sZWZ0QXJyb3cuaGlkZSgpO1xyXG4gICAgICAgIHNlbGYucmlnaHRBcnJvdy5oaWRlKCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG4vLyDova7mkq3lubbmm7TmlrDlsI/lnIbngrnvvJtcclxuQmFubmVyLnByb3RvdHlwZS5hbmltYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIGluZGV4ID0gc2VsZi5pbmRleDtcclxuICAgIHNlbGYuYmFubmVyVWwuc3RvcCgpLmFuaW1hdGUoeydsZWZ0JzogLXNlbGYuYmFubmVyV2lkdGggKiBzZWxmLmluZGV4fSwgNTAwKTtcclxuICAgIGlmIChpbmRleCA9PT0gMCkge1xyXG4gICAgICAgIGluZGV4ID0gc2VsZi5iYW5uZXJDb3VudCAtIDE7XHJcbiAgICB9IGVsc2UgaWYgKGluZGV4ID09PSBzZWxmLmJhbm5lckNvdW50ICsgMSkge1xyXG4gICAgICAgIGluZGV4ID0gMDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaW5kZXggPSBzZWxmLmluZGV4IC0gMTtcclxuICAgIH1cclxuICAgIHNlbGYucGFnZUNvbnRyb2wuY2hpbGRyZW4oJ2xpJykuZXEoaW5kZXgpLmFkZENsYXNzKFwiYWN0aXZlXCIpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIilcclxufTtcclxuXHJcbi8vIHNldEludGVydmFs77ya5LiN5pat6LCD55So5Ye95pWw6L6T5Ye65YaF5a6577yM5Y+v5a6a5LmJ5pe26Ze077yb77yI5a6a5pe25Zmo77yJXHJcbi8vIGFuaW1hdGXvvJrorr7nva7oh6rlrprkuYnliqjnlLvmlYjmnpzvvIzlvoDlt6bnp7vliqjnmoTlg4/ntKDlj4rml7bpl7Qs6L+b6KGM6L2u5pKt77ybXHJcbi8vIOWFiOaJvuWIsElEPWJhbm5lci11bOeahHVs5qCH562+77yM5L2/5YW25q+P5Lik56eS5b6A5bem56e75Yqo4oCcLTc5OCppbmRleOKAneS4quWDj+e0oFxyXG5CYW5uZXIucHJvdG90eXBlLmxvb3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChzZWxmLmluZGV4ID49IHNlbGYuYmFubmVyQ291bnQgKyAxKSB7XHJcbiAgICAgICAgICAgIHNlbGYuYmFubmVyVWwuY3NzKHsnbGVmdCc6IC1zZWxmLmJhbm5lcldpZHRofSk7XHJcbiAgICAgICAgICAgIHNlbGYuaW5kZXggPSAyO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNlbGYuaW5kZXgrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgc2VsZi5hbmltYXRlKCk7XHJcbiAgICB9LCAyMDAwKTtcclxufTtcclxuXHJcbi8vIGhvdmVy77ya6YCJ5oup6byg5qCH5oKs5rWu55qE5YWD57Sg77ybXHJcbi8vIGNsZWFySW50ZXJ2YWzvvJrlj6/lgZzmraLlrprml7blmajnmoTov5DooYzvvJtcclxuQmFubmVyLnByb3RvdHlwZS5saXN0ZW5CYW5uZXJIb3ZlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHRoaXMuYmFubmVyR3JvdXAuaG92ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8v56ys5LiA5Liq5Ye95pWw77yM6byg5qCH56e75Yqo5YiwYmFubmVy5LiK5omn6KGM55qE5Ye95pWw77ybXHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbChzZWxmLnRpbWVyKTtcclxuICAgICAgICBzZWxmLnRvZ2dsZUFycm93KHRydWUpO1xyXG4gICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8v56ys5LqM5Liq5Ye95pWw77yM6byg5qCHICDku45iYW5uZXLkuIrnp7vlvIDmiafooYznmoTlh73mlbDvvJtcclxuICAgICAgICBzZWxmLmxvb3AoKTtcclxuICAgICAgICBzZWxmLnRvZ2dsZUFycm93KGZhbHNlKVxyXG4gICAgfSlcclxufTtcclxuXHJcbi8v6byg5qCH54K55Ye7566t5aS06L+b6KGM6Lez6L2s77ybXHJcbkJhbm5lci5wcm90b3R5cGUubGlzdGVuQXJyb3dDbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYubGVmdEFycm93LmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoc2VsZi5pbmRleCA9PT0gMCkge1xyXG4gICAgICAgICAgICBzZWxmLmJhbm5lclVsLmNzcyh7J2xlZnQnOiAtc2VsZi5iYW5uZXJDb3VudCAqIHNlbGYuYmFubmVyV2lkdGh9KTtcclxuICAgICAgICAgICAgc2VsZi5pbmRleCA9IHNlbGYuYmFubmVyQ291bnQgLSAxO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNlbGYuaW5kZXgtLVxyXG4gICAgICAgIH1cclxuICAgICAgICBzZWxmLmFuaW1hdGUoKTtcclxuICAgIH0pO1xyXG4gICAgc2VsZi5yaWdodEFycm93LmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoc2VsZi5pbmRleCA9PT0gc2VsZi5iYW5uZXJDb3VudCArIDEpIHtcclxuICAgICAgICAgICAgc2VsZi5iYW5uZXJVbC5jc3MoeydsZWZ0JzogLXNlbGYuYmFubmVyV2lkdGh9KTtcclxuICAgICAgICAgICAgc2VsZi5pbmRleCA9IDJcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZWxmLmluZGV4KytcclxuICAgICAgICB9XHJcbiAgICAgICAgc2VsZi5hbmltYXRlKCk7XHJcbiAgICB9KVxyXG59O1xyXG5cclxuLy8g55uR5ZCs54K55Ye75bCP5ZyG54K55pe26Lez6L2s55qE6L2u5pKt5Zu+77ybXHJcbkJhbm5lci5wcm90b3R5cGUubGlzdGVuUGFnZUNvbnRyb2wgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLnBhZ2VDb250cm9sLmNoaWxkcmVuKFwibGlcIikuZWFjaChmdW5jdGlvbiAoaW5kZXgsIG9iaikge1xyXG4gICAgICAgICQob2JqKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNlbGYuaW5kZXggPSBpbmRleCArIDE7XHJcbiAgICAgICAgICAgIHNlbGYuYW5pbWF0ZSgpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59O1xyXG5cclxuQmFubmVyLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLmluaXRCYW5uZXIoKTtcclxuICAgIHRoaXMuaW5pdFBhZ2VDb250cm9sKCk7XHJcbiAgICB0aGlzLmxvb3AoKTtcclxuICAgIHRoaXMubGlzdGVuQmFubmVySG92ZXIoKTtcclxuICAgIHRoaXMubGlzdGVuQXJyb3dDbGljaygpO1xyXG4gICAgdGhpcy5saXN0ZW5QYWdlQ29udHJvbCgpO1xyXG59O1xyXG5cclxuXHJcbi8vIOeCueWHu+WKoOi9veabtOWkmuaMiemSrueahOS6i+S7tu+8m1xyXG5mdW5jdGlvbiBJbmRleCgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYucGFnZSA9IDI7XHJcbiAgICBzZWxmLmNhdGVnb3J5X2lkID0gMDtcclxuICAgIHNlbGYubG9hZEJ0biA9ICQoJyNsb2FkLW1vcmUtYnRuJyk7XHJcbn1cclxuXHJcbi8vIOebkeWQrOWKoOi9veabtOWkmueahOS6i+S7tu+8m1xyXG5JbmRleC5wcm90b3R5cGUuTGlzdGVuTG9hZE1vcmVFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBsb2FkQnRuID0gJCgnI2xvYWQtbW9yZS1idG4nKTtcclxuICAgIGxvYWRCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHhmemFqYXguZ2V0KHtcclxuICAgICAgICAgICAgJ3VybCc6ICcvbmV3cy9saXN0LycsXHJcbiAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgJ3AnOiBzZWxmLnBhZ2UsXHJcbiAgICAgICAgICAgICAgICAnY2F0ZWdvcnlfaWQnOiBzZWxmLmNhdGVnb3J5X2lkLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld3NlcyA9IHJlc3VsdFsnZGF0YSddO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdzZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0ZW1wbGF0Ze+8mui/lOWbnmFydHRlbXBsYXRl5qih5p2/5Lit5a6a5LmJ55qE5YaF5a6577ybdGVtcGxhdGUoJ3Rlc3QnLGRhdGEp77ybXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cGwgPSB0ZW1wbGF0ZSgnbmV3cy1pdGVtJywgeyduZXdzZXMnOiBuZXdzZXN9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVsID0gJCgnLmxpc3RfaW5uZXJfZ3JvdXAnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdWwuYXBwZW5kKHRwbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucGFnZSArPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRCdG4uaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59O1xyXG5cclxuLy8g5YW25a6D5YiG57G755qE5pi+56S65LqL5Lu277ybXHJcbkluZGV4LnByb3RvdHlwZS5MaXN0ZW5DYXRlZ29yeVN3aXRjaEV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIHRhYkdyb3VwID0gJCgnLmxpc3RfdGFiJyk7XHJcbiAgICB0YWJHcm91cC5jaGlsZHJlbigpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyB0aGlz77ya5Luj6KGo5b2T5YmN6YCJ5Lit55qEbGnmoIfnrb7vvJtcclxuICAgICAgICB2YXIgbGkgPSAkKHRoaXMpO1xyXG4gICAgICAgIHZhciBjYXRlZ29yeV9pZCA9IGxpLmF0dHIoJ2RhdGEtY2F0ZWdvcnknKTtcclxuICAgICAgICBwYWdlID0gMTtcclxuICAgICAgICB4ZnphamF4LmdldCh7XHJcbiAgICAgICAgICAgICd1cmwnOiAnL25ld3MvbGlzdC8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICdjYXRlZ29yeV9pZCc6IGNhdGVnb3J5X2lkLFxyXG4gICAgICAgICAgICAgICAgJ3AnOiBwYWdlLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld3NlcyA9IHJlc3VsdFsnZGF0YSddO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0cGwgPSB0ZW1wbGF0ZSgnbmV3cy1pdGVtJywgeyduZXdzZXMnOiBuZXdzZXN9KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3c0xpc3RHcm91cCA9ICQoJy5saXN0X2lubmVyX2dyb3VwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZW1wdHnvvJrlsIbmoIfnrb7kuIvmiYDmnInlrZDlhYPntKDliKDpmaTvvJtcclxuICAgICAgICAgICAgICAgICAgICBuZXdzTGlzdEdyb3VwLmVtcHR5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3c0xpc3RHcm91cC5hcHBlbmQodHBsKTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnBhZ2UgPSAyO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY2F0ZWdvcnlfaWQgPSBjYXRlZ29yeV9pZDtcclxuICAgICAgICAgICAgICAgICAgICBsaS5hZGRDbGFzcygnYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2FkQnRuLnNob3coKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgXHJcbiAgICB9KVxyXG59O1xyXG5cclxuSW5kZXgucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuTGlzdGVuTG9hZE1vcmVFdmVudCgpO1xyXG4gICAgc2VsZi5MaXN0ZW5DYXRlZ29yeVN3aXRjaEV2ZW50KCk7XHJcbn07XHJcblxyXG4vLyDooajnpLrpnIDlhYjov5DooYzmiYDmnInnmoTmlofmnKzlhYPntKDlkI7lho3miafooYzor6Xlh73mlbDvvJtcclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgYmFubmVyID0gbmV3IEJhbm5lcigpO1xyXG4gICAgYmFubmVyLnJ1bigpO1xyXG4gICAgdmFyIGluZGV4ID0gbmV3IEluZGV4KCk7XHJcbiAgICBpbmRleC5ydW4oKTtcclxufSk7XHJcblxyXG5cclxuIl19
