function NewsList(){}NewsList.prototype.ListenSubmitEvent=function(){var n=$(".submit-btn"),s=$("textarea[name='comment']");n.click(function(){var t=s.val(),e=n.attr("data-news-id");xfzajax.post({url:"/news/public_comment/",data:{content:t,news_id:e},success:function(t){if(200===t.code){var e=t.data;tpl=template("comment-item",{comment:e}),$(".comment-list").prepend(tpl),window.messageBox.showSuccess("评论发表成功！"),s.val("")}else window.messageBox.showError(t.message)}})})},NewsList.prototype.run=function(){this.ListenSubmitEvent()},$(function(){(new NewsList).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZyb250L25ld3NfZGV0YWlsLmpzIl0sIm5hbWVzIjpbIk5ld3NMaXN0IiwicHJvdG90eXBlIiwiTGlzdGVuU3VibWl0RXZlbnQiLCJzdWJtaXRCdG4iLCIkIiwidGV4dGFyZWEiLCJjbGljayIsImNvbnRlbnQiLCJ2YWwiLCJuZXdzX2lkIiwiYXR0ciIsInhmemFqYXgiLCJwb3N0IiwidXJsIiwiZGF0YSIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJjb21tZW50IiwidHBsIiwidGVtcGxhdGUiLCJwcmVwZW5kIiwid2luZG93IiwibWVzc2FnZUJveCIsInNob3dTdWNjZXNzIiwic2hvd0Vycm9yIiwicnVuIiwidGhpcyJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsWUFLVEEsU0FBU0MsVUFBVUMsa0JBQW1CLFdBQ2xDLElBQUlDLEVBQVlDLEVBQUUsZUFDZEMsRUFBV0QsRUFBRSw0QkFDakJELEVBQVVHLE1BQU0sV0FDWixJQUFJQyxFQUFVRixFQUFTRyxNQUNuQkMsRUFBVU4sRUFBVU8sS0FBSyxnQkFDN0JDLFFBQVFDLEtBQUssQ0FDVEMsSUFBTyx3QkFDUEMsS0FBUSxDQUNKUCxRQUFXQSxFQUNYRSxRQUFXQSxHQUVmTSxRQUFXLFNBQVVDLEdBQ2pCLEdBQXVCLE1BQW5CQSxFQUFhLEtBQVUsQ0FDdkIsSUFBSUMsRUFBVUQsRUFBYSxLQUMzQkUsSUFBTUMsU0FBUyxlQUFlLENBQUNGLFFBQVVBLElBQ3ZCYixFQUFFLGlCQUVSZ0IsUUFBUUYsS0FDcEJHLE9BQU9DLFdBQVdDLFlBQVksV0FFOUJsQixFQUFTRyxJQUFJLFNBRWJhLE9BQU9DLFdBQVdFLFVBQVVSLEVBQWdCLGVBT2hFaEIsU0FBU0MsVUFBVXdCLElBQU0sV0FDWEMsS0FDTHhCLHFCQUdURSxFQUFFLFlBQ2EsSUFBSUosVUFDVnlCIiwiZmlsZSI6ImZyb250L25ld3NfZGV0YWlsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIE5ld3NMaXN0KCkge1xyXG4gICAgXHJcbn1cclxuXHJcbi8vIOivhOiuuuS6i+S7tu+8m1xyXG5OZXdzTGlzdC5wcm90b3R5cGUuTGlzdGVuU3VibWl0RXZlbnQgPWZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzdWJtaXRCdG4gPSAkKCcuc3VibWl0LWJ0bicpO1xyXG4gICAgdmFyIHRleHRhcmVhID0gJChcInRleHRhcmVhW25hbWU9J2NvbW1lbnQnXVwiKTtcclxuICAgIHN1Ym1pdEJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGNvbnRlbnQgPSB0ZXh0YXJlYS52YWwoKTtcclxuICAgICAgICB2YXIgbmV3c19pZCA9IHN1Ym1pdEJ0bi5hdHRyKCdkYXRhLW5ld3MtaWQnKTtcclxuICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9uZXdzL3B1YmxpY19jb21tZW50LycsXHJcbiAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnQnOiBjb250ZW50LFxyXG4gICAgICAgICAgICAgICAgJ25ld3NfaWQnOiBuZXdzX2lkLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29tbWVudCA9IHJlc3VsdFsnZGF0YSddO1xyXG4gICAgICAgICAgICAgICAgICAgIHRwbCA9IHRlbXBsYXRlKCdjb21tZW50LWl0ZW0nLHsnY29tbWVudCc6Y29tbWVudH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb21tZW50TGlzdCA9ICQoJy5jb21tZW50LWxpc3QnKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyDlsIbmlrDor4TorrrliY3nva7vvJtcclxuICAgICAgICAgICAgICAgICAgICBjb21tZW50TGlzdC5wcmVwZW5kKHRwbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvd1N1Y2Nlc3MoJ+ivhOiuuuWPkeihqOaIkOWKn++8gScpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOi+k+WFpeahhuWhq+WFpeepuueZveaVsOaNru+8m1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRhcmVhLnZhbChcIlwiKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3dFcnJvcihyZXN1bHRbJ21lc3NhZ2UnXSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59O1xyXG5cclxuTmV3c0xpc3QucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID10aGlzO1xyXG4gICAgc2VsZi5MaXN0ZW5TdWJtaXRFdmVudCgpO1xyXG59O1xyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgbmV3cyA9IG5ldyBOZXdzTGlzdCgpO1xyXG4gICAgbmV3cy5ydW4oKTtcclxufSk7Il19
