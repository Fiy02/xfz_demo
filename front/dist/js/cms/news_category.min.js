function NewsCategory(){}NewsCategory.prototype.run=function(){var t=this;t.ListenAddCategoryEvent(),t.ListenEditCategoryEvent(),t.ListenDeleteCategoryEvent()},NewsCategory.prototype.ListenAddCategoryEvent=function(){$("#add-btn").click(function(){xfzalert.alertOneInput({title:"添加新闻分类",placeholder:"请输入新闻分类",confirmCallback:function(t){xfzajax.post({url:"/cms/add_news_category/",data:{name:t},success:function(t){200===t.code?window.location.reload():xfzalert.close()}})}})})},NewsCategory.prototype.ListenEditCategoryEvent=function(){$(".edit-btn").click(function(){var t=$(this).parent().parent(),e=t.attr("data-pk"),a=t.attr("data-name");xfzalert.alertOneInput({title:"修改分类名称",placeholder:"请输入新的分类名称",value:a,confirmText:"修改",confirmCallback:function(t){xfzajax.post({url:"/cms/edit_news_category/",data:{pk:e,name:t},success:function(t){200===t.code?xfzalert.alertSuccess("修改成功！",function(){window.location.reload()}):xfzalert.close()}})}})})},NewsCategory.prototype.ListenDeleteCategoryEvent=function(){$(".delete-btn").click(function(){var t=$(this).parent().parent().attr("data-pk");xfzalert.alertConfirm({title:"您确定要删除该分类吗？",confirmCallback:function(){xfzajax.post({url:"/cms/delete_category/",data:{pk:t},success:function(t){200===t.code?window.location.reload():xfzalert.close()}})}})})},$(function(){(new NewsCategory).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNtcy9uZXdzX2NhdGVnb3J5LmpzIl0sIm5hbWVzIjpbIk5ld3NDYXRlZ29yeSIsInByb3RvdHlwZSIsInJ1biIsInNlbGYiLCJ0aGlzIiwiTGlzdGVuQWRkQ2F0ZWdvcnlFdmVudCIsIkxpc3RlbkVkaXRDYXRlZ29yeUV2ZW50IiwiTGlzdGVuRGVsZXRlQ2F0ZWdvcnlFdmVudCIsIiQiLCJjbGljayIsInhmemFsZXJ0IiwiYWxlcnRPbmVJbnB1dCIsInRpdGxlIiwicGxhY2Vob2xkZXIiLCJjb25maXJtQ2FsbGJhY2siLCJpbnB1dFZhbHVlIiwieGZ6YWpheCIsInBvc3QiLCJ1cmwiLCJkYXRhIiwibmFtZSIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsImNsb3NlIiwidHIiLCJwYXJlbnQiLCJwayIsImF0dHIiLCJ2YWx1ZSIsImNvbmZpcm1UZXh0IiwiYWxlcnRTdWNjZXNzIiwiYWxlcnRDb25maXJtIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxnQkFJVEEsYUFBYUMsVUFBVUMsSUFBTSxXQUN6QixJQUFJQyxFQUFPQyxLQUNYRCxFQUFLRSx5QkFDTEYsRUFBS0csMEJBQ0xILEVBQUtJLDZCQUlUUCxhQUFhQyxVQUFVSSx1QkFBeUIsV0FDL0JHLEVBQUUsWUFDUkMsTUFBTSxXQUNUQyxTQUFTQyxjQUFjLENBQ25CQyxNQUFTLFNBQ1RDLFlBQWUsVUFFZkMsZ0JBQW1CLFNBQVVDLEdBQ3pCQyxRQUFRQyxLQUFLLENBQ1RDLElBQU8sMEJBQ1BDLEtBQVEsQ0FDSkMsS0FBUUwsR0FFWk0sUUFBVyxTQUFVQyxHQUNNLE1BQW5CQSxFQUFhLEtBQ2JDLE9BQU9DLFNBQVNDLFNBRWhCZixTQUFTZ0IsaUJBVXJDMUIsYUFBYUMsVUFBVUssd0JBQTBCLFdBQy9CRSxFQUFFLGFBQ1JDLE1BQU0sV0FDVixJQUNJa0IsRUFEVW5CLEVBQUVKLE1BQ0N3QixTQUFTQSxTQUN0QkMsRUFBS0YsRUFBR0csS0FBSyxXQUNiVixFQUFPTyxFQUFHRyxLQUFLLGFBQ25CcEIsU0FBU0MsY0FBYyxDQUNuQkMsTUFBUyxTQUNUQyxZQUFlLFlBQ2ZrQixNQUFTWCxFQUNUWSxZQUFlLEtBQ2ZsQixnQkFBbUIsU0FBVUMsR0FDekJDLFFBQVFDLEtBQUssQ0FDVEMsSUFBTywyQkFDUEMsS0FBUSxDQUNKVSxHQUFNQSxFQUNOVCxLQUFRTCxHQUVaTSxRQUFXLFNBQVVDLEdBQ00sTUFBbkJBLEVBQWEsS0FDYlosU0FBU3VCLGFBQWEsUUFBUSxXQUMxQlYsT0FBT0MsU0FBU0MsV0FHcEJmLFNBQVNnQixpQkFVckMxQixhQUFhQyxVQUFVTSwwQkFBNEIsV0FDL0JDLEVBQUUsZUFDUkMsTUFBTSxXQUNaLElBRUlvQixFQUZhckIsRUFBRUosTUFDQ3dCLFNBQVNBLFNBQ2pCRSxLQUFLLFdBQ2pCcEIsU0FBU3dCLGFBQWEsQ0FDbEJ0QixNQUFTLGNBQ1RFLGdCQUFtQixXQUNmRSxRQUFRQyxLQUFLLENBQ1RDLElBQU8sd0JBQ1BDLEtBQVEsQ0FDSlUsR0FBTUEsR0FFVlIsUUFBVyxTQUFVQyxHQUNNLE1BQW5CQSxFQUFhLEtBQ2JDLE9BQU9DLFNBQVNDLFNBRWhCZixTQUFTZ0IsaUJBU3JDbEIsRUFBRSxZQUNpQixJQUFJUixjQUNWRSIsImZpbGUiOiJjbXMvbmV3c19jYXRlZ29yeS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBOZXdzQ2F0ZWdvcnkoKSB7XHJcbiAgICBcclxufVxyXG5cclxuTmV3c0NhdGVnb3J5LnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLkxpc3RlbkFkZENhdGVnb3J5RXZlbnQoKTtcclxuICAgIHNlbGYuTGlzdGVuRWRpdENhdGVnb3J5RXZlbnQoKTtcclxuICAgIHNlbGYuTGlzdGVuRGVsZXRlQ2F0ZWdvcnlFdmVudCgpO1xyXG59O1xyXG5cclxuLy8g5re75Yqg5YiG57G754K55Ye75LqL5Lu277ybXHJcbk5ld3NDYXRlZ29yeS5wcm90b3R5cGUuTGlzdGVuQWRkQ2F0ZWdvcnlFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBhZGRCdG4gPSAkKCcjYWRkLWJ0bicpO1xyXG4gICAgYWRkQnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB4ZnphbGVydC5hbGVydE9uZUlucHV0KHtcclxuICAgICAgICAgICAgJ3RpdGxlJzogJ+a3u+WKoOaWsOmXu+WIhuexuycsXHJcbiAgICAgICAgICAgICdwbGFjZWhvbGRlcic6ICfor7fovpPlhaXmlrDpl7vliIbnsbsnLFxyXG4gICAgICAgICAgICAvLyDngrnlh7vnoa7orqTlkI7ov5vooYznmoTkuovku7bvvJtcclxuICAgICAgICAgICAgJ2NvbmZpcm1DYWxsYmFjayc6IGZ1bmN0aW9uIChpbnB1dFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAgICAgICAgICd1cmwnOiAnL2Ntcy9hZGRfbmV3c19jYXRlZ29yeS8nLFxyXG4gICAgICAgICAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnbmFtZSc6IGlucHV0VmFsdWVcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeGZ6YWxlcnQuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSk7XHJcbn07XHJcblxyXG4vLyDnvJbovpHkuovku7bvvJtcclxuTmV3c0NhdGVnb3J5LnByb3RvdHlwZS5MaXN0ZW5FZGl0Q2F0ZWdvcnlFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBlZGl0QnRuID0gJChcIi5lZGl0LWJ0blwiKTtcclxuICAgIGVkaXRCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjdXJyZW50ID0gJCh0aGlzKTtcclxuICAgICAgICB2YXIgdHIgPSBjdXJyZW50LnBhcmVudCgpLnBhcmVudCgpO1xyXG4gICAgICAgIHZhciBwayA9IHRyLmF0dHIoJ2RhdGEtcGsnKTtcclxuICAgICAgICB2YXIgbmFtZSA9IHRyLmF0dHIoJ2RhdGEtbmFtZScpO1xyXG4gICAgICAgIHhmemFsZXJ0LmFsZXJ0T25lSW5wdXQoe1xyXG4gICAgICAgICAgICAndGl0bGUnOiAn5L+u5pS55YiG57G75ZCN56ewJyxcclxuICAgICAgICAgICAgJ3BsYWNlaG9sZGVyJzogJ+ivt+i+k+WFpeaWsOeahOWIhuexu+WQjeensCcsXHJcbiAgICAgICAgICAgICd2YWx1ZSc6IG5hbWUsXHJcbiAgICAgICAgICAgICdjb25maXJtVGV4dCc6ICfkv67mlLknLFxyXG4gICAgICAgICAgICAnY29uZmlybUNhbGxiYWNrJzogZnVuY3Rpb24gKGlucHV0VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHhmemFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3VybCc6ICcvY21zL2VkaXRfbmV3c19jYXRlZ29yeS8nLFxyXG4gICAgICAgICAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAncGsnOiBwayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ25hbWUnOiBpbnB1dFZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4ZnphbGVydC5hbGVydFN1Y2Nlc3MoJ+S/ruaUueaIkOWKn++8gScsZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeGZ6YWxlcnQuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSk7XHJcbn07XHJcblxyXG4vLyDliKDpmaTkuovku7bvvJtcclxuTmV3c0NhdGVnb3J5LnByb3RvdHlwZS5MaXN0ZW5EZWxldGVDYXRlZ29yeUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGRlbGV0ZUJ0biA9ICQoJy5kZWxldGUtYnRuJyk7XHJcbiAgICBkZWxldGVCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjdXJyZW50QnRuID0gJCh0aGlzKTtcclxuICAgICAgICB2YXIgdHIgPSBjdXJyZW50QnRuLnBhcmVudCgpLnBhcmVudCgpO1xyXG4gICAgICAgIHZhciBwayA9IHRyLmF0dHIoJ2RhdGEtcGsnKTtcclxuICAgICAgICB4ZnphbGVydC5hbGVydENvbmZpcm0oe1xyXG4gICAgICAgICAgICAndGl0bGUnOiAn5oKo56Gu5a6a6KaB5Yig6Zmk6K+l5YiG57G75ZCX77yfJyxcclxuICAgICAgICAgICAgJ2NvbmZpcm1DYWxsYmFjayc6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHhmemFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3VybCc6ICcvY21zL2RlbGV0ZV9jYXRlZ29yeS8nLFxyXG4gICAgICAgICAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAncGsnOiBwayxcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhmemFsZXJ0LmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pO1xyXG59O1xyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgY2F0ZWdvcnkgPSBuZXcgTmV3c0NhdGVnb3J5KCk7XHJcbiAgICBjYXRlZ29yeS5ydW4oKTtcclxufSk7Il19
