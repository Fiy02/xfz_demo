function CourseDetail(){}CourseDetail.prototype.initPlayer=function(){var e=$("#video-info"),t=e.attr("data-video-url"),o=e.attr("data-cover-url"),a=e.attr("data-course-id"),r=cyberplayer("playercontainer").setup({width:"100%",height:"100%",file:t,image:o,autostart:!1,stretching:"uniform",repeat:!1,volume:100,controls:!0,primary:"flash",tokenEncrypt:!0,ak:"86dc62e1dbd4455080ab1cfc5e587b17"});r.on("beforePlay",function(o){/m3u8/.test(o.file)&&xfzajax.get({url:"/course/course_token/",data:{video:t,course_id:a},success:function(e){if(200===e.code){var t=e.data.token;r.setToken(o.file,t)}else window.messageBox.showInfo(e.message)},fail:function(e){console.log(e)}})})},CourseDetail.prototype.run=function(){this.initPlayer()},$(function(){(new CourseDetail).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNtcy9jb3Vyc2VfZGV0YWlsLmpzIl0sIm5hbWVzIjpbIkNvdXJzZURldGFpbCIsInByb3RvdHlwZSIsImluaXRQbGF5ZXIiLCJ2aWRlb0luZm9TcGFuIiwiJCIsInZpZGVvX3VybCIsImF0dHIiLCJjb3Zlcl91cmwiLCJjb3Vyc2VfaWQiLCJwbGF5ZXIiLCJjeWJlcnBsYXllciIsInNldHVwIiwid2lkdGgiLCJoZWlnaHQiLCJmaWxlIiwiaW1hZ2UiLCJhdXRvc3RhcnQiLCJzdHJldGNoaW5nIiwicmVwZWF0Iiwidm9sdW1lIiwiY29udHJvbHMiLCJwcmltYXJ5IiwidG9rZW5FbmNyeXB0IiwiYWsiLCJvbiIsImUiLCJ0ZXN0IiwieGZ6YWpheCIsImdldCIsInVybCIsImRhdGEiLCJ2aWRlbyIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJ0b2tlbiIsInNldFRva2VuIiwid2luZG93IiwibWVzc2FnZUJveCIsInNob3dJbmZvIiwiZmFpbCIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInJ1biIsInRoaXMiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLGdCQUtUQSxhQUFhQyxVQUFVQyxXQUFhLFdBQ2hDLElBQUlDLEVBQWdCQyxFQUFFLGVBQ2xCQyxFQUFZRixFQUFjRyxLQUFLLGtCQUMvQkMsRUFBWUosRUFBY0csS0FBSyxrQkFDL0JFLEVBQVlMLEVBQWNHLEtBQUssa0JBQy9CRyxFQUFTQyxZQUFZLG1CQUFtQkMsTUFBTSxDQUM5Q0MsTUFBTyxPQUNQQyxPQUFRLE9BQ1JDLEtBQU1ULEVBQ05VLE1BQU9SLEVBQ1BTLFdBQVcsRUFDWEMsV0FBWSxVQUNaQyxRQUFRLEVBQ1JDLE9BQVEsSUFDUkMsVUFBVSxFQUNWQyxRQUFTLFFBQ1RDLGNBQWMsRUFDZEMsR0FBSSxxQ0FJUmQsRUFBT2UsR0FBRyxhQUFjLFNBQVVDLEdBQ3pCLE9BQU9DLEtBQUtELEVBQUVYLE9BR25CYSxRQUFRQyxJQUFJLENBQ1JDLElBQU8sd0JBQ1BDLEtBQVEsQ0FDSkMsTUFBUzFCLEVBQ1RHLFVBQWFBLEdBRWpCd0IsUUFBVyxTQUFVQyxHQUNqQixHQUF1QixNQUFuQkEsRUFBYSxLQUFXLENBQ3hCLElBQUlDLEVBQVFELEVBQWEsS0FBUyxNQUVsQ3hCLEVBQU8wQixTQUFTVixFQUFFWCxLQUFNb0IsUUFFeEJFLE9BQU9DLFdBQVdDLFNBQVNMLEVBQWdCLFVBR25ETSxLQUFRLFNBQVVDLEdBQ2RDLFFBQVFDLElBQUlGLFNBTTVCeEMsYUFBYUMsVUFBVTBDLElBQU0sV0FDekJDLEtBQUsxQyxjQUdURSxFQUFFLFlBQ2UsSUFBSUosY0FDVjJDIiwiZmlsZSI6ImNtcy9jb3Vyc2VfZGV0YWlsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIENvdXJzZURldGFpbCgpIHtcclxuXHJcbn1cclxuXHJcbi8vIOinhumikeaSreaUvu+8m1xyXG5Db3Vyc2VEZXRhaWwucHJvdG90eXBlLmluaXRQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgdmlkZW9JbmZvU3BhbiA9ICQoJyN2aWRlby1pbmZvJyk7XHJcbiAgICB2YXIgdmlkZW9fdXJsID0gdmlkZW9JbmZvU3Bhbi5hdHRyKCdkYXRhLXZpZGVvLXVybCcpO1xyXG4gICAgdmFyIGNvdmVyX3VybCA9IHZpZGVvSW5mb1NwYW4uYXR0cignZGF0YS1jb3Zlci11cmwnKTtcclxuICAgIHZhciBjb3Vyc2VfaWQgPSB2aWRlb0luZm9TcGFuLmF0dHIoJ2RhdGEtY291cnNlLWlkJyk7XHJcbiAgICB2YXIgcGxheWVyID0gY3liZXJwbGF5ZXIoXCJwbGF5ZXJjb250YWluZXJcIikuc2V0dXAoe1xyXG4gICAgICAgIHdpZHRoOiAnMTAwJScsXHJcbiAgICAgICAgaGVpZ2h0OiAnMTAwJScsXHJcbiAgICAgICAgZmlsZTogdmlkZW9fdXJsLCAgICAgICAgICAgIC8vIOinhumikemTvuaOpe+8m1xyXG4gICAgICAgIGltYWdlOiBjb3Zlcl91cmwsICAgICAgICAgICAvLyDlsIHpnaLlm77pk77mjqXvvJtcclxuICAgICAgICBhdXRvc3RhcnQ6IGZhbHNlLCAgICAgICAgICAgLy8g5piv5ZCm6Ieq5Yqo5pKt5pS+77ybXHJcbiAgICAgICAgc3RyZXRjaGluZzogJ3VuaWZvcm0nLCAgICAgIC8vIOaJqeWkp++8m1xyXG4gICAgICAgIHJlcGVhdDogZmFsc2UsICAgICAgICAgICAgICAvLyDmmK/lkKbph43lpI3vvJtcclxuICAgICAgICB2b2x1bWU6IDEwMCwgICAgICAgICAgICAgICAgLy8g6Z+z6YeP77ybXHJcbiAgICAgICAgY29udHJvbHM6IHRydWUsICAgICAgICAgICAgIC8vIOW6lemDqOaOp+WItuagj++8m1xyXG4gICAgICAgIHByaW1hcnk6IFwiZmxhc2hcIiwgICAgICAgICAgIC8vIOS9v+eUqGZsYXNo77ybXHJcbiAgICAgICAgdG9rZW5FbmNyeXB0OiB0cnVlLCAgICAgICAgIC8vIOmHh+eUqHRva2Vu5Yqg5a+G77ybXHJcbiAgICAgICAgYWs6ICc4NmRjNjJlMWRiZDQ0NTUwODBhYjFjZmM1ZTU4N2IxNycsIC8vIEFjY2Vzc0tleTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAvLyDop4bpopHmkq3mlL7liY3nmoTkuovku7bvvJtcclxuICAgIHBsYXllci5vbignYmVmb3JlUGxheScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgaWYgKCEvbTN1OC8udGVzdChlLmZpbGUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgeGZ6YWpheC5nZXQoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9jb3Vyc2UvY291cnNlX3Rva2VuLycsXHJcbiAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgJ3ZpZGVvJzogdmlkZW9fdXJsLFxyXG4gICAgICAgICAgICAgICAgJ2NvdXJzZV9pZCc6IGNvdXJzZV9pZCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0b2tlbiA9IHJlc3VsdFsnZGF0YSddWyd0b2tlbiddO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOWwhuKAmHRva29u4oCZ6K6+572u5YWl4oCYcGxheWVy4oCZ5Lit77yM5L2/5pKt5pS+5Zmo6I635Y+W6KeG6aKR5a+G56CB77ybXHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnNldFRva2VuKGUuZmlsZSwgdG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93SW5mbyhyZXN1bHRbJ21lc3NhZ2UnXSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2ZhaWwnOiBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn07XHJcblxyXG5Db3Vyc2VEZXRhaWwucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuaW5pdFBsYXllcigpO1xyXG59O1xyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgY291cnNlID0gbmV3IENvdXJzZURldGFpbCgpO1xyXG4gICAgY291cnNlLnJ1bigpXHJcbn0pO1xyXG5cclxuIl19
