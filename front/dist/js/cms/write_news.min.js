function News(){}News.prototype.run=function(){var e=this;e.ListenUploadFileEvent(),e.initUEditor(),e.ListenSubmitEvent()},News.prototype.ListenUploadFileEvent=function(){var o=$("#thumbnail-btn");o.change(function(){var e=o[0].files[0],t=new FormData;t.append("file",e),xfzajax.post({url:"/cms/upload_file/",data:t,processData:!1,contentType:!1,success:function(e){if(200===e.code){var t=e.data.url;$("#thumbnail-form").val(t)}}})})},News.prototype.ListenQiniuuploadFileEvent=function(){var s=this;$("#thumbnail-btn").change(function(){var a=this.files[0];xfzajax.get({url:"/cms/qntokon/",success:function(e){if(200===e.code){var t=e.data.tokon,o=(new Date).getTime()+"."+a.name.split(".")[1],n={fname:o,params:{},mimeType:["image/png","image/jpeg","image/gif","video/x-ms-wmv","video/mp4","video/x-flv"]},i={useCdnDomain:!0,retryCount:6,region:qiniu.region.z2};qiniu.upload(a,o,t,n,i).subscribe({next:s.handFileUploadProcess,error:s.handFileUploadError,complete:s.handFileUploadComplete})}}})})},News.prototype.handFileUploadProcess=function(e){var t=e.total.percent.toFixed()+"%";News.progressGroup.show();var o=$(".progress-bar");o.css({width:t}),o.text(t)},News.prototype.handFileUploadError=function(e){window.messageBox.showError(e.message),News.progressGroup.hide(),console.log(e.message)},News.prototype.handFileUploadComplete=function(e){console.log(e),News.progressGroup.hide();var t="http://ps96zui1h.bkt.clouddn.com/"+e.key;$("input[name='thumbnail']").val(t)},News.prototype.initUEditor=function(){window.ue=UE.getEditor("editor",{serverUrl:"/ueditor/upload/",initialFrameHeight:300})},News.prototype.ListenSubmitEvent=function(){$("#submit-btn").click(function(e){e.preventDefault();var t=$(this).attr("data-news-id"),o=$("input[name='title']").val(),n=$("select[name='category']").val(),i=$("input[name='desc']").val(),a=$("input[name='thumbnail']").val(),s=window.ue.getContent(),r="";r=t?"/cms/edit_news/":"/cms/write_news/",xfzajax.post({url:r,data:{title:o,desc:i,category:n,content:s,thumbnail:a,pk:t},success:function(e){200===e.code&&xfzalert.alertSuccess("恭喜，新闻发表成功！",function(){window.location.reload()})}})})},$(function(){(new News).run(),News.progressGroup=$("#progress-group")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNtcy93cml0ZV9uZXdzLmpzIl0sIm5hbWVzIjpbIk5ld3MiLCJwcm90b3R5cGUiLCJydW4iLCJzZWxmIiwidGhpcyIsIkxpc3RlblVwbG9hZEZpbGVFdmVudCIsImluaXRVRWRpdG9yIiwiTGlzdGVuU3VibWl0RXZlbnQiLCJ1cGxvYWRCdG4iLCIkIiwiY2hhbmdlIiwiZmlsZSIsImZpbGVzIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsInhmemFqYXgiLCJwb3N0IiwidXJsIiwiZGF0YSIsInByb2Nlc3NEYXRhIiwiY29udGVudFR5cGUiLCJzdWNjZXNzIiwicmVzdWx0IiwidmFsIiwiTGlzdGVuUWluaXV1cGxvYWRGaWxlRXZlbnQiLCJnZXQiLCJ0b2tvbiIsImtleSIsIkRhdGUiLCJnZXRUaW1lIiwibmFtZSIsInNwbGl0IiwicHV0RXh0cmEiLCJmbmFtZSIsInBhcmFtcyIsIm1pbWVUeXBlIiwiY29uZmlnIiwidXNlQ2RuRG9tYWluIiwicmV0cnlDb3VudCIsInJlZ2lvbiIsInFpbml1IiwiejIiLCJ1cGxvYWQiLCJzdWJzY3JpYmUiLCJuZXh0IiwiaGFuZEZpbGVVcGxvYWRQcm9jZXNzIiwiZXJyb3IiLCJoYW5kRmlsZVVwbG9hZEVycm9yIiwiY29tcGxldGUiLCJoYW5kRmlsZVVwbG9hZENvbXBsZXRlIiwicmVzcG9uc2UiLCJwZXJjZW50VGV4dCIsInRvdGFsIiwicGVyY2VudCIsInRvRml4ZWQiLCJwcm9ncmVzc0dyb3VwIiwic2hvdyIsInByb2dyZXNzQmFyIiwiY3NzIiwid2lkdGgiLCJ0ZXh0Iiwid2luZG93IiwibWVzc2FnZUJveCIsInNob3dFcnJvciIsIm1lc3NhZ2UiLCJoaWRlIiwiY29uc29sZSIsImxvZyIsInVlIiwiVUUiLCJnZXRFZGl0b3IiLCJzZXJ2ZXJVcmwiLCJpbml0aWFsRnJhbWVIZWlnaHQiLCJjbGljayIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJwayIsImF0dHIiLCJ0aXRsZSIsImNhdGVnb3J5IiwiZGVzYyIsInRodW1ibmFpbCIsImNvbnRlbnQiLCJnZXRDb250ZW50IiwieGZ6YWxlcnQiLCJhbGVydFN1Y2Nlc3MiLCJsb2NhdGlvbiIsInJlbG9hZCJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsUUFJVEEsS0FBS0MsVUFBVUMsSUFBTSxXQUNqQixJQUFJQyxFQUFPQyxLQUNYRCxFQUFLRSx3QkFFTEYsRUFBS0csY0FDTEgsRUFBS0kscUJBSVRQLEtBQUtDLFVBQVVJLHNCQUF3QixXQUNuQyxJQUFJRyxFQUFZQyxFQUFFLGtCQUNsQkQsRUFBVUUsT0FBTyxXQUNiLElBQUlDLEVBQU9ILEVBQVUsR0FBR0ksTUFBTSxHQUMxQkMsRUFBVyxJQUFJQyxTQUNuQkQsRUFBU0UsT0FBTyxPQUFRSixHQUN4QkssUUFBUUMsS0FBSyxDQUNUQyxJQUFPLG9CQUNQQyxLQUFRTixFQUNSTyxhQUFlLEVBQ2ZDLGFBQWUsRUFDZkMsUUFBVyxTQUFVQyxHQUNqQixHQUF1QixNQUFuQkEsRUFBYSxLQUFVLENBQ3ZCLElBQUlMLEVBQU1LLEVBQWEsS0FBTyxJQUNUZCxFQUFFLG1CQUNSZSxJQUFJTixVQVF2Q2xCLEtBQUtDLFVBQVV3QiwyQkFBNkIsV0FDeEMsSUFBSXRCLEVBQU9DLEtBQ0tLLEVBQUUsa0JBQ1JDLE9BQU8sV0FDYixJQUFJQyxFQUFPUCxLQUFLUSxNQUFNLEdBQ3RCSSxRQUFRVSxJQUFJLENBQ1JSLElBQU8sZ0JBQ1BJLFFBQVcsU0FBVUMsR0FDakIsR0FBc0IsTUFBbEJBLEVBQWEsS0FBVSxDQUd2QixJQUFJSSxFQUFRSixFQUFhLEtBQVMsTUFHOUJLLEdBQU0sSUFBS0MsTUFBUUMsVUFBWSxJQUFNbkIsRUFBS29CLEtBQUtDLE1BQU0sS0FBSyxHQUUxREMsRUFBVyxDQUNYQyxNQUFPTixFQUNQTyxPQUFRLEdBQ1JDLFNBQVUsQ0FBQyxZQUFZLGFBQWEsWUFBWSxpQkFBaUIsWUFBWSxnQkFHN0VDLEVBQVMsQ0FDVEMsY0FBYyxFQUNkQyxXQUFZLEVBQ1pDLE9BQVFDLE1BQU1ELE9BQU9FLElBSVJELE1BQU1FLE9BQU9oQyxFQUFLaUIsRUFBSUQsRUFBTU0sRUFBU0ksR0FDM0NPLFVBQVUsQ0FDakJDLEtBQVExQyxFQUFLMkMsc0JBQ2JDLE1BQVM1QyxFQUFLNkMsb0JBQ2RDLFNBQVk5QyxFQUFLK0MsZ0NBU3pDbEQsS0FBS0MsVUFBVTZDLHNCQUF3QixTQUFTSyxHQUM1QyxJQUVJQyxFQUZRRCxFQUFTRSxNQUNEQyxRQUNNQyxVQUFZLElBQ2xCdkQsS0FBS3dELGNBQ1hDLE9BQ2QsSUFBSUMsRUFBY2pELEVBQUUsaUJBQ3BCaUQsRUFBWUMsSUFBSSxDQUFDQyxNQUFRUixJQUN6Qk0sRUFBWUcsS0FBS1QsSUFJckJwRCxLQUFLQyxVQUFVK0Msb0JBQXNCLFNBQVNELEdBQzFDZSxPQUFPQyxXQUFXQyxVQUFVakIsRUFBTWtCLFNBQ2RqRSxLQUFLd0QsY0FDWFUsT0FDZEMsUUFBUUMsSUFBSXJCLEVBQU1rQixVQUl0QmpFLEtBQUtDLFVBQVVpRCx1QkFBeUIsU0FBU0MsR0FDN0NnQixRQUFRQyxJQUFJakIsR0FDUW5ELEtBQUt3RCxjQUNYVSxPQUNkLElBRUloRCxFQUZTLG9DQUNFaUMsRUFBU3ZCLElBRUhuQixFQUFFLDJCQUNSZSxJQUFJTixJQUl2QmxCLEtBQUtDLFVBQVVLLFlBQWMsV0FDekJ3RCxPQUFPTyxHQUFLQyxHQUFHQyxVQUFVLFNBQVMsQ0FDOUJDLFVBQWEsbUJBQ2JDLG1CQUFzQixPQUs5QnpFLEtBQUtDLFVBQVVNLGtCQUFvQixXQUNmRSxFQUFFLGVBQ1JpRSxNQUFNLFNBQVVDLEdBQ3RCQSxFQUFNQyxpQkFDTixJQUNJQyxFQURNcEUsRUFBRUwsTUFDQzBFLEtBQUssZ0JBQ2RDLEVBQVF0RSxFQUFFLHVCQUF1QmUsTUFDakN3RCxFQUFXdkUsRUFBRSwyQkFBMkJlLE1BQ3hDeUQsRUFBT3hFLEVBQUUsc0JBQXNCZSxNQUMvQjBELEVBQVl6RSxFQUFFLDJCQUEyQmUsTUFDekMyRCxFQUFVckIsT0FBT08sR0FBR2UsYUFDcEJsRSxFQUFNLEdBRU5BLEVBREEyRCxFQUNNLGtCQUVBLG1CQUVWN0QsUUFBUUMsS0FBSyxDQUNUQyxJQUFPQSxFQUNQQyxLQUFRLENBQ0o0RCxNQUFTQSxFQUNURSxLQUFRQSxFQUNSRCxTQUFZQSxFQUNaRyxRQUFXQSxFQUNYRCxVQUFhQSxFQUNiTCxHQUFNQSxHQUVWdkQsUUFBVyxTQUFVQyxHQUNNLE1BQW5CQSxFQUFhLE1BQ2I4RCxTQUFTQyxhQUFhLGFBQWEsV0FDL0J4QixPQUFPeUIsU0FBU0MsaUJBUXhDL0UsRUFBRSxZQUNhLElBQUlULE1BQ1ZFLE1BQ0xGLEtBQUt3RCxjQUFnQi9DLEVBQUUiLCJmaWxlIjoiY21zL3dyaXRlX25ld3MubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gTmV3cygpIHtcclxuXHJcbn1cclxuXHJcbk5ld3MucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYuTGlzdGVuVXBsb2FkRmlsZUV2ZW50KCk7XHJcbiAgICAvLyBzZWxmLkxpc3RlblFpbml1dXBsb2FkRmlsZUV2ZW50KCk7XHJcbiAgICBzZWxmLmluaXRVRWRpdG9yKCk7XHJcbiAgICBzZWxmLkxpc3RlblN1Ym1pdEV2ZW50KCk7XHJcbn07XHJcblxyXG4vLyDkuIrkvKDliLDoh6rlt7HnmoTmnI3liqHlmajvvJtcclxuTmV3cy5wcm90b3R5cGUuTGlzdGVuVXBsb2FkRmlsZUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHVwbG9hZEJ0biA9ICQoJyN0aHVtYm5haWwtYnRuJyk7XHJcbiAgICB1cGxvYWRCdG4uY2hhbmdlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZmlsZSA9IHVwbG9hZEJ0blswXS5maWxlc1swXTtcclxuICAgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTtcclxuICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9jbXMvdXBsb2FkX2ZpbGUvJyxcclxuICAgICAgICAgICAgJ2RhdGEnOiBmb3JtRGF0YSxcclxuICAgICAgICAgICAgJ3Byb2Nlc3NEYXRhJzogZmFsc2UsXHJcbiAgICAgICAgICAgICdjb250ZW50VHlwZSc6IGZhbHNlLFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gcmVzdWx0WydkYXRhJ11bJ3VybCddO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aHVtYm5haWxJbnB1dCA9ICQoJyN0aHVtYm5haWwtZm9ybScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbElucHV0LnZhbCh1cmwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pO1xyXG59O1xyXG5cclxuLy8g5LiK5Lyg5Yiw5LiD54mb5LqR77ybXHJcbk5ld3MucHJvdG90eXBlLkxpc3RlblFpbml1dXBsb2FkRmlsZUV2ZW50ID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciB1cGxvYWRCdG4gPSAkKCcjdGh1bWJuYWlsLWJ0bicpO1xyXG4gICAgdXBsb2FkQnRuLmNoYW5nZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGZpbGUgPSB0aGlzLmZpbGVzWzBdO1xyXG4gICAgICAgIHhmemFqYXguZ2V0KHtcclxuICAgICAgICAgICAgJ3VybCc6ICcvY21zL3FudG9rb24vJyxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09MjAwICl7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdG9rZW46IOS4iuS8oOmqjOivgeS/oeaBr++8jOWJjeerr+mAmui/h+aOpeWPo+ivt+axguWQjuerr+iOt+W+l++8m1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0b2tvbiA9IHJlc3VsdFsnZGF0YSddWyd0b2tvbiddO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGtleTog5paH5Lu26LWE5rqQ5ZCNKOW9k+WJjeaXtumXtCvmlofku7bmoLzlvI8pO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpICsgJy4nICsgZmlsZS5uYW1lLnNwbGl0KCcuJylbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHB1dEV4dHJhID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmbmFtZToga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHt9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW1lVHlwZTogWydpbWFnZS9wbmcnLCdpbWFnZS9qcGVnJywnaW1hZ2UvZ2lmJywndmlkZW8veC1tcy13bXYnLCd2aWRlby9tcDQnLCd2aWRlby94LWZsdiddXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29uZmlnID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VDZG5Eb21haW46IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHJ5Q291bnQ6IDYsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbjogcWluaXUucmVnaW9uLnoyXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAvLyDmlofku7bkuIrkvKDvvJtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IHFpbml1LnVwbG9hZChmaWxlLGtleSx0b2tvbixwdXRFeHRyYSxjb25maWcpO1xyXG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmFibGUuc3Vic2NyaWJlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ25leHQnOiBzZWxmLmhhbmRGaWxlVXBsb2FkUHJvY2VzcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2Vycm9yJzogc2VsZi5oYW5kRmlsZVVwbG9hZEVycm9yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnY29tcGxldGUnOiBzZWxmLmhhbmRGaWxlVXBsb2FkQ29tcGxldGUsXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59O1xyXG5cclxuLy8g5o6l5pS25LiK5Lyg6L+b5bqm77ybXHJcbk5ld3MucHJvdG90eXBlLmhhbmRGaWxlVXBsb2FkUHJvY2VzcyA9IGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgIHZhciB0b3RhbCA9IHJlc3BvbnNlLnRvdGFsO1xyXG4gICAgdmFyIHBlcmNlbnQgPSB0b3RhbC5wZXJjZW50O1xyXG4gICAgdmFyIHBlcmNlbnRUZXh0ID0gcGVyY2VudC50b0ZpeGVkKCkgKyAnJSc7XHJcbiAgICB2YXIgcHJvZ3Jlc3NHcm91cCA9IE5ld3MucHJvZ3Jlc3NHcm91cDtcclxuICAgIHByb2dyZXNzR3JvdXAuc2hvdygpO1xyXG4gICAgdmFyIHByb2dyZXNzQmFyID0gJCgnLnByb2dyZXNzLWJhcicpO1xyXG4gICAgcHJvZ3Jlc3NCYXIuY3NzKHtcIndpZHRoXCI6cGVyY2VudFRleHR9KTtcclxuICAgIHByb2dyZXNzQmFyLnRleHQocGVyY2VudFRleHQpO1xyXG59O1xyXG5cclxuLy8g5o6l5pS26ZSZ6K+v6Kem5Y+R77ybXHJcbk5ld3MucHJvdG90eXBlLmhhbmRGaWxlVXBsb2FkRXJyb3IgPSBmdW5jdGlvbihlcnJvcil7XHJcbiAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93RXJyb3IoZXJyb3IubWVzc2FnZSk7XHJcbiAgICB2YXIgcHJvZ3Jlc3NHcm91cCA9IE5ld3MucHJvZ3Jlc3NHcm91cDtcclxuICAgIHByb2dyZXNzR3JvdXAuaGlkZSgpO1xyXG4gICAgY29uc29sZS5sb2coZXJyb3IubWVzc2FnZSk7XHJcbn07XHJcblxyXG4vLyDmjqXmlLbkuIrkvKDlrozmiJDlkI7nmoTov5Tlm57kv6Hmga/vvJtcclxuTmV3cy5wcm90b3R5cGUuaGFuZEZpbGVVcGxvYWRDb21wbGV0ZSA9IGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcclxuICAgIHZhciBwcm9ncmVzc0dyb3VwID0gTmV3cy5wcm9ncmVzc0dyb3VwO1xyXG4gICAgcHJvZ3Jlc3NHcm91cC5oaWRlKCk7XHJcbiAgICB2YXIgZG9tYWluID0gJ2h0dHA6Ly9wczk2enVpMWguYmt0LmNsb3VkZG4uY29tLyc7XHJcbiAgICB2YXIgZmlsZW5hbWUgPSByZXNwb25zZS5rZXk7XHJcbiAgICB2YXIgdXJsID0gZG9tYWluICsgZmlsZW5hbWU7XHJcbiAgICB2YXIgdGh1bWJuYWlsSW5wdXQgPSAkKFwiaW5wdXRbbmFtZT0ndGh1bWJuYWlsJ11cIik7XHJcbiAgICB0aHVtYm5haWxJbnB1dC52YWwodXJsKVxyXG59O1xyXG5cclxuLy8g5a+M5paH5pys57yW6L6R77ybXHJcbk5ld3MucHJvdG90eXBlLmluaXRVRWRpdG9yID0gZnVuY3Rpb24oKXtcclxuICAgIHdpbmRvdy51ZSA9IFVFLmdldEVkaXRvcignZWRpdG9yJyx7XHJcbiAgICAgICAgJ3NlcnZlclVybCc6ICcvdWVkaXRvci91cGxvYWQvJyxcclxuICAgICAgICAnaW5pdGlhbEZyYW1lSGVpZ2h0JzogMzAwLFxyXG4gICAgfSlcclxufTtcclxuXHJcbi8vIOaPkOS6pOaWsOmXu+aMiemSru+8m1xyXG5OZXdzLnByb3RvdHlwZS5MaXN0ZW5TdWJtaXRFdmVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc3VibWl0QnRuID0gJChcIiNzdWJtaXQtYnRuXCIpO1xyXG4gICAgc3VibWl0QnRuLmNsaWNrKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdmFyIGJ0biA9ICQodGhpcyk7XHJcbiAgICAgICAgdmFyIHBrID0gYnRuLmF0dHIoJ2RhdGEtbmV3cy1pZCcpO1xyXG4gICAgICAgIHZhciB0aXRsZSA9ICQoXCJpbnB1dFtuYW1lPSd0aXRsZSddXCIpLnZhbCgpO1xyXG4gICAgICAgIHZhciBjYXRlZ29yeSA9ICQoXCJzZWxlY3RbbmFtZT0nY2F0ZWdvcnknXVwiKS52YWwoKTtcclxuICAgICAgICB2YXIgZGVzYyA9ICQoXCJpbnB1dFtuYW1lPSdkZXNjJ11cIikudmFsKCk7XHJcbiAgICAgICAgdmFyIHRodW1ibmFpbCA9ICQoXCJpbnB1dFtuYW1lPSd0aHVtYm5haWwnXVwiKS52YWwoKTtcclxuICAgICAgICB2YXIgY29udGVudCA9IHdpbmRvdy51ZS5nZXRDb250ZW50KCk7XHJcbiAgICAgICAgdmFyIHVybCA9ICcnO1xyXG4gICAgICAgIGlmIChwayl7XHJcbiAgICAgICAgICAgIHVybCA9ICcvY21zL2VkaXRfbmV3cy8nXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHVybCA9ICcvY21zL3dyaXRlX25ld3MvJ1xyXG4gICAgICAgIH1cclxuICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzogdXJsLFxyXG4gICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICd0aXRsZSc6IHRpdGxlLFxyXG4gICAgICAgICAgICAgICAgJ2Rlc2MnOiBkZXNjLFxyXG4gICAgICAgICAgICAgICAgJ2NhdGVnb3J5JzogY2F0ZWdvcnksXHJcbiAgICAgICAgICAgICAgICAnY29udGVudCc6IGNvbnRlbnQsXHJcbiAgICAgICAgICAgICAgICAndGh1bWJuYWlsJzogdGh1bWJuYWlsLFxyXG4gICAgICAgICAgICAgICAgJ3BrJzogcGtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgeGZ6YWxlcnQuYWxlcnRTdWNjZXNzKCfmga3llpzvvIzmlrDpl7vlj5HooajmiJDlip/vvIEnLGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSk7XHJcbn07XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBuZXdzID0gbmV3IE5ld3MoKTtcclxuICAgIG5ld3MucnVuKCk7XHJcbiAgICBOZXdzLnByb2dyZXNzR3JvdXAgPSAkKCcjcHJvZ3Jlc3MtZ3JvdXAnKTtcclxufSk7XHJcbiJdfQ==
